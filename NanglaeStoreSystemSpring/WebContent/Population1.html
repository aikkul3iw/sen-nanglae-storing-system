<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script type='text/javascript' src="js/jquery.js"></script>
<script type='text/javascript'>
	function listPopulation1() {
		$("#loader").show();
		$.ajax({
			url : "listPopulation1.do",
			type : "POST",
			success : function(data) {
				var html = '';
				for (var i = 0; i < data.length; i++) {
					html += "<tr>";
					html += "<td>" + data[i].pop_year + "</td>" + "<td>"
							+ data[i].pop_overall_m + "</td>" + "<td>"
							+ data[i].pop_overall_f + "</td>" + "<td>"
							+ data[i].pop_thai_nation_m + "</td>" + "<td>"
							+ data[i].pop_thai_nation_f + "</td>" + "<td>"
							+ data[i].pop_chinese_nation_m + "</td>" + "<td>"
							+ data[i].pop_chinese_nation_f + "</td>" + "<td>"
							+ data[i].pop_other_nation_m + "</td>" + "<td>"
							+ data[i].pop_other_nation_f + "</td>" + "<td>"
							+ data[i].pop_elect15_m + "</td>" + "<td>"
							+ data[i].pop_elect15_f + "</td>" + "<td>"
							+ data[i].pop_elect18_m + "</td>" + "<td>"
							+ data[i].pop_elect18_f + "</td>" + "<td>"
							+ data[i].pop_elect20_m + "</td>" + "<td>"
							+ data[i].pop_elect20_f + "</td>" + "<td>"
							+ data[i].pop_military_select_reg + "</td>"
							+ "<td>" + data[i].pop_military_select_join
							+ "</td>" + "<td>" + data[i].location.vil_name
							+ "</td>"
							+ "<td><buttun onclick=\"deletePopulation1("
							+ data[i].pop_id + ");\" >Delete</button></td>"
							+ "<td><buttun onclick=\"setEditPopulation1("
							+ data[i].pop_id + ");\" >Edit</button></td>";
					html += "</tr>";
				}
				$('#resultTable').html(html);
				$("#loader").hide();
			},
			error : function(data, status, er) {
				alert('error');
				$("#loader").hide();
			}
		});
	}
</script>
<script type='text/javascript'>
	function createPopulation1() {
		$("#loader").show();
		var obj = {
			pop_id : 0,
			pop_year : $('#pop_year').val(),
			pop_overall_m : $('#pop_overall_m').val(),
			pop_overall_f : $('#pop_overall_f').val(),
			pop_thai_nation_m : $('#pop_thai_nation_m').val(),
			pop_thai_nation_f : $('#pop_thai_nation_f').val(),
			pop_chinese_nation_m : $('#pop_chinese_nation_m').val(),
			pop_chinese_nation_f : $('#pop_chinese_nation_f').val(),
			pop_other_nation_m : $('#pop_other_nation_m').val(),
			pop_other_nation_f : $('#pop_other_nation_f').val(),
			pop_elect15_m : $('#pop_elect15_m').val(),
			pop_elect15_f : $('#pop_elect15_f').val(),
			pop_elect18_m : $('#pop_elect18_m').val(),
			pop_elect18_f : $('#pop_elect18_f').val(),
			pop_elect20_m : $('#pop_elect20_m').val(),
			pop_elect20_f : $('#pop_elect20_f').val(),
			pop_military_select_reg : $('#pop_military_select_reg').val(),
			pop_military_select_join : $('#pop_military_select_join').val()

		};
		alert(JSON.stringify(obj));
		$.ajax({
			url : "savePopulation1.do?id=" + $("#villageSelect").val(),
			type : "POST",
			dataType : "JSON",
			data : JSON.stringify(obj),
			contentType : "application/json",
			mimeType : "application/json",
			success : function(data) {
				alert('success');
				$("#loader").hide();
			},
			error : function(data, status, er) {
				alert('error');
				$("#loader").hide();
			}
		});
	}
	function listVillage() {
		$("#loader").show();
		$.ajax({
			url : "listVillage.do",
			type : "POST",
			success : function(data) {
				var html = '';
				for (var i = 0; i < data.length; i++) {
					html += "<option value=\""+data[i].vil_id+"\">"
							+ data[i].vil_name + "</option>";
				}
				$('#villageSelect').html(html);

			},
			error : function(data, status, er) {
				alert('error');
				$("#loader").hide();
			}
		});
	}
	function deletePopulation1(id) {
		var obj = {
			pop_id : id

		};
		alert(id);
		alert(JSON.stringify(obj));
		$.ajax({
			url : "deletePopulation1.do",
			type : "POST",
			dataType : "JSON",
			data : JSON.stringify(obj),
			contentType : "application/json",
			mimeType : "application/json",
			success : function(data) {
				alert('success');
				location.reload();
			}
		});
	}
	function editPopulation1() {
		var obj = {
			pop_id : $("#editPopId").val(),
			pop_year : $('#editPopYear').val(),
			pop_overall_m : $('#editPopOverallMale').val(),
			pop_overall_f : $('#editPopOverallFemale').val(),
			pop_thai_nation_m : $('#editPopThaiNationMale').val(),
			pop_thai_nation_f : $('#editPopThaiNationFemale').val(),
			pop_chinese_nation_m : $('#editPopChineseNationMale').val(),
			pop_chinese_nation_f : $('#editPopChineseNationFemale').val(),
			pop_other_nation_m : $('#editPopOtherNationMale').val(),
			pop_other_nation_f : $('#editPopOtherNationFemale').val(),
			pop_elect15_m : $('#editPopElect15Male').val(),
			pop_elect15_f : $('#editPopElect15Female').val(),
			pop_elect18_m : $('#editPopElect18Male').val(),
			pop_elect18_f : $('#editPopElect18Female').val(),
			pop_elect20_m : $('#editPopElect20Male').val(),
			pop_elect20_f : $('#editPopElect20Female').val(),
			pop_military_select_reg : $('#editPopMilitarySelectReg').val(),
			pop_military_select_join : $('#editPopMilitarySelectJoin').val()
		};
		alert(JSON.stringify(obj));
		$.ajax({
			url : "savePopulation1.do?id=" + $("#editVillageSelect").val(),
			type : "POST",
			dataType : "JSON",
			data : JSON.stringify(obj),
			contentType : "application/json",
			mimeType : "application/json",
			success : function(data) {
				alert('success');
				location.reload();
			},
			error : function(data, status, er) {
				alert('error');
			}
		});
	}
	function setEditPopulation1(pop_id) {

		var obj = {
			pop_id : pop_id
		};

		$
				.ajax({
					url : "findPopulation1.do",
					type : "POST",
					dataType : "JSON",
					data : JSON.stringify(obj),
					contentType : "application/json",
					mimeType : "application/json",
					success : function(data) {
						alert(JSON.stringify(data));
						$("#editPopId").val(data.pop_id);
						$("#editPopYear").val(data.pop_year);
						$("#editPopOverallMale").val(data.pop_overall_m);
						$("#editPopOverallFemale").val(data.pop_overall_f);
						$("#editPopThaiNationMale").val(data.pop_thai_nation_m);
						$("#editPopThaiNationFemale").val(
								data.pop_thai_nation_f);
						$("#editPopChineseNationMale").val(
								data.pop_chinese_nation_m);
						$("#editPopChineseNationFemale").val(
								data.pop_chinese_nation_f);
						$("#editPopOtherNationMale").val(
								data.pop_other_nation_m);
						$("#editPopOtherNationFemale").val(
								data.pop_other_nation_f);
						$("#editPopElect15Male").val(data.pop_elect15_m);
						$("#editPopElect15Female").val(data.pop_elect15_f);
						$("#editPopElect18Male").val(data.pop_elect18_m);
						$("#editPopElect18Female").val(data.pop_elect18_f);
						$("#editPopElect20Male").val(data.pop_elect20_m);
						$("#editPopElect20Female").val(data.pop_elect20_f);
						$("#editPopMilitarySelectReg").val(
								data.pop_military_select_reg);
						$("#editPopMilitarySelectJoin").val(
								data.pop_military_select_join);
					},
					error : function(data, status, er) {
						alert('error');
					}
				});
	}
	function editVillageSelect() {
		$("#loader").show();
		$.ajax({
			url : "listVillage.do",
			type : "POST",
			success : function(data) {
				var html = '';
				for (var i = 0; i < data.length; i++) {
					html += "<option value=\""+data[i].vil_id+"\">"
							+ data[i].vil_name + "</option>";
				}
				$('#editVillageSelect').html(html);

			},
			error : function(data, status, er) {
				alert('error');
				$("#loader").hide();
			}
		});
	}
</script>
</head>
<body onload="listPopulation1();listVillage();editVillageSelect();">
	<div id="loader" style="display: none">
		<img src="image/ajax-loader.gif" />
	</div>
	<table id="resultTable" border="1"></table>

	<button onclick="listPopulation1()">Fetch All</button>

	<div id="loader" style="display: none">
		<img src="image/ajax-loader.gif" />
	</div>
	<table id="resultTable" border="1"></table>

	<hr />
	Year:
	<input type="text" id="pop_year">
	<BR /> Overall Male:
	<input type="text" id="pop_overall_m"> Overall Female:
	<input type="text" id="pop_overall_f">
	<BR /> Thai Nation Male:
	<input type="text" id="pop_thai_nation_m"> Thai Nation Female:
	<input type="text" id="pop_thai_nation_f">
	<BR /> Chinese Nation Male:
	<input type="text" id="pop_chinese_nation_m"> Chinese Nation
	Female:
	<input type="text" id="pop_chinese_nation_f">
	<BR /> Other Nation Male:
	<input type="text" id="pop_other_nation_m"> Other Nation
	Female:
	<input type="text" id="pop_other_nation_f">
	<BR /> Election Male Above 15:
	<input type="text" id="pop_elect15_m"> Election Female Above
	15:
	<input type="text" id="pop_elect15_f">
	<BR /> Election Male Above 18:
	<input type="text" id="pop_elect18_m"> Election Female Above
	18:
	<input type="text" id="pop_elect18_f">
	<BR /> Election Male Above 20:
	<input type="text" id="pop_elect20_m"> Election Female Above
	20:
	<input type="text" id="pop_elect20_f">
	<BR /> Military Register:
	<input type="text" id="pop_military_select_reg">
	<BR /> Military Join:
	<input type="text" id="pop_military_select_join">
	<BR /> Location:
	<select id="villageSelect">
	</select>
	<BR />
	<input type="button" value="Save" onclick="createPopulation1()" />

	<hr />
	<input type="hidden" id="editPopId"> Year: Year:
	<input type="text" id="editPopYear">
	<BR /> Overall Male:
	<input type="text" id="editPopOverallMale"> Overall Female:
	<input type="text" id="editPopOverallFemale">
	<BR /> Thai Nation Male:
	<input type="text" id="editPopThaiNationMale"> Thai Nation
	Female:
	<input type="text" id="editPopThaiNationFemale">
	<BR /> Chinese Nation Male:
	<input type="text" id="editPopChineseNationMale"> Chinese
	Nation Male:
	<input type="text" id="editPopChineseNationFemale">
	<BR /> Other Nation Male:
	<input type="text" id="editPopOtherNationMale"> Other Nation
	Female:
	<input type="text" id="editPopOtherNationFemale">
	<BR /> Election Male Above 15:
	<input type="text" id="editPopElect15Male"> Election Female
	Above 15:
	<input type="text" id="editPopElect15Female">
	<BR /> Election Male Above 18:
	<input type="text" id="editPopElect18Male"> Election Female
	Above 18:
	<input type="text" id="editPopElect18Female">
	<BR /> Election Male Above 20:
	<input type="text" id="editPopElect20Male"> Election Female
	Above 20:
	<input type="text" id="editPopElect20Female">
	<BR /> Military Register:
	<input type="text" id="editPopMilitarySelectReg">
	<BR /> Military Join:
	<input type="text" id="editPopMilitarySelectJoin">
	<BR /> Location:
	<select id="editVillageSelect">
	</select>
	<BR />
	<input type="button" value="Save" onclick="editPopulation1()" />
</body>
</html>